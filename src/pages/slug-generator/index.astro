---
import Layout from '@layouts/Layout.astro'
---

<script>
  import { crearSlug } from '@services/SlugGenerator'

  const titulo = document.getElementById('titulo') as HTMLInputElement
  const slug = document.getElementById('slug') as HTMLInputElement
  const button = document.getElementById('crearSlug') as HTMLButtonElement
  const buttonCopiar = document.getElementById('copiar') as HTMLButtonElement

  button.addEventListener('click', () => {
    slug.value = crearSlug(titulo.value)
  })

  buttonCopiar.addEventListener('click', () => {
    if (slug.value) {
      navigator.clipboard
        .writeText(slug.value)
        .then(() => {
          console.log('Copiado')
        })
        .catch((err) => {
          console.log('Error al copiar', err)
        })
    }
  })
</script>

<Layout title='Slug Generator'>
  <section class='max-w-4xl p-6 mx-auto'>
    <h2
      class='text-xl font-semibold text-gray-700 capitalize text-center sm:text-3xl'
    >
      Generador de Slug
    </h2>

    <div class='grid grid-cols-1 gap-6 mt-8 sm:grid-cols-3 items-end'>
      <input
        id='titulo'
        placeholder='Titulo'
        type='text'
        class='col-span-3 sm:sm:col-span-2 block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-200 rounded-md focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 focus:outline-none focus:ring'
        autocomplete='off'
      />
      <button
        id='crearSlug'
        class='px-8 py-2.5 col-span-3 sm:sm:col-span-1 leading-5 text-white transition-colors duration-300 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600'
      >
        Convertir
      </button>

      <div
        class='flex flex-row bg-white col-span-3 p-1.5 overflow-hidden border rounded-lg'
      >
        <input
          id='slug'
          class='px-4 py-2 w-full text-gray-700 bg-transparent placeholder-gray-500 outline-none border-none'
          type='text'
          disabled
          placeholder='Slug convertido'
          aria-label='Slug convertido'
        />

        <!-- <button
          id='copiar'
          class='px-4 py-3 font-medium tracking-wider text-gray-100 transition-colors duration-300 transform bg-gray-100 rounded-md hover:bg-gray-200'
        >
          <svg
            class='w-4 h-4 text-gray-500 dark:text-white hover:text-gray-800 dark:hover:text-gray-300'
            aria-hidden='true'
            xmlns='http://www.w3.org/2000/svg'
            fill='none'
            viewBox='0 0 18 20'
          >
            <path
              stroke='currentColor'
              stroke-linecap='round'
              stroke-linejoin='round'
              stroke-width='2'
              d='m7.708 2.292.706-.706A2 2 0 0 1 9.828 1h6.239A.97.97 0 0 1 17 2v12a.97.97 0 0 1-.933 1H15M6 5v4a1 1 0 0 1-1 1H1m11-4v12a.97.97 0 0 1-.933 1H1.933A.97.97 0 0 1 1 18V9.828a2 2 0 0 1 .586-1.414l2.828-2.828A2 2 0 0 1 5.828 5h5.239A.97.97 0 0 1 12 6Z'
            ></path>
          </svg>
        </button> -->

        <button
          id='copiar'
          class='group px-6 py-4 font-medium tracking-wider text-gray-100 duration-300 transform bg-gray-100 rounded-md hover:bg-gray-200 focus:duration-[900ms] transition-all'
        >
          <span
            class='text-[#0E418F] absolute -translate-x-2/4 -translate-y-2/4 group-focus:text-[#B5CCF3] group-focus:-translate-x-2/4 group-focus:translate-y-[-150%] group-focus:opacity-0 group-focus:duration-500'
          >
            <svg
              class='w-4 h-4 text-gray-500 dark:text-white hover:text-gray-800 dark:hover:text-gray-300'
              aria-hidden='true'
              xmlns='http://www.w3.org/2000/svg'
              fill='none'
              viewBox='0 0 18 20'
            >
              <path
                stroke='currentColor'
                stroke-linecap='round'
                stroke-linejoin='round'
                stroke-width='2'
                d='m7.708 2.292.706-.706A2 2 0 0 1 9.828 1h6.239A.97.97 0 0 1 17 2v12a.97.97 0 0 1-.933 1H15M6 5v4a1 1 0 0 1-1 1H1m11-4v12a.97.97 0 0 1-.933 1H1.933A.97.97 0 0 1 1 18V9.828a2 2 0 0 1 .586-1.414l2.828-2.828A2 2 0 0 1 5.828 5h5.239A.97.97 0 0 1 12 6Z'
              ></path>
            </svg>
          </span>
          <span
            class='absolute text-[#B5CCF3] opacity-0 translate-y-full -translate-x-2/4 leading-[13px] group-focus:-translate-x-2/4 group-focus:-translate-y-2/4 group-focus:opacity-100 group-focus:delay-300 group-focus:duration-500'
          >
            <svg
              class='w-4 h-4 text-blue-500 dark:text-white'
              aria-hidden='true'
              xmlns='http://www.w3.org/2000/svg'
              fill='none'
              viewBox='0 0 20 20'
            >
              <path
                stroke='currentColor'
                stroke-linecap='round'
                stroke-linejoin='round'
                stroke-width='2'
                d='m7 10 2 2 4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z'></path>
            </svg>
          </span>
        </button>
      </div>
    </div>
  </section>
</Layout>
